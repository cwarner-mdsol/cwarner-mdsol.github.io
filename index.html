<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Cwarner-mdsol.GitHub.io by cwarner-mdsol</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Cwarner-mdsol.GitHub.io</h1>
        <h2>useful information</h2>
        <a href="https://github.com/cwarner-mdsol" class="button"><small>Follow me on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a id="pto-from-12152016---01032016" class="anchor" href="#pto-from-12152016---01032016" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PTO from 12/15/2016 - 01/03/2016</h3>

<p>If you are here looking for help please contact one of my team members at <a href="mailto://cloud-infrastructure@mdsol.com">cloud-infrastructure@mdsol.com</a> and someone should be able to help you. </p>

<h3>
<a id="team-notices" class="anchor" href="#team-notices" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Team notices</h3>

<p>There isn't much to say most things are operational or working and shouldn't have any problems continuing to function for the next 2 weeks.</p>

<h3>
<a id="things-could-possibly-stop-being-functional-however" class="anchor" href="#things-could-possibly-stop-being-functional-however" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Things could possibly stop being functional however</h3>

<p>ldap and the kvcluster would be the only major concerns but anything going immediately wrong here is highly unlikely. In the cases where there is abject failure for LDAP one can search sumologic with the following regex:  </p>

<p><code>(ldap) AND _sourceName="/mnt/medistrano/shared/log/ldap_integration.log</code>  </p>

<p>And it should provide relevant information as to what is going on. For the most part you'll see errors resembling<br>
<code>ERROR -- : Failed to add 'someuser' to LDAP group 'engineer': uniqueMember: value #0 invalid per syntax</code>  </p>

<p>This has been resolved with <a href="https://github.com/mdsol/medistrano/pull/1943">PR 1943</a> and should hopefully be merged shortly. At least I really hope so, if not it'll mean having to add new users to ldap every time there is a new user. While I hope it isn't much I had to manually add 13 users when this bug was identified. Which means in the two week span we had that many users.</p>

<h3>
<a id="ldap" class="anchor" href="#ldap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ldap</h3>

<p>Ldap is down, what do I do? Do not panic, all six nodes would have to go down for it to be a real issue. If that has happened, there are much bigger problems. That aside you can spin up a new LDAP cluster and migrate the data from the latest backup in S3. <a href="https://github.com/mdsol/openldap-playbook/blob/master/docs/ldap_administration_manual.md">Instructions on how to spin up ldap with latest backup</a>. A vote of confidence is that this has never happened before, even during the rush on the cluster during initial introduction, the nodes themselves never actually went down (they slowed to a crawl but kept processing requests, albeit, extremely slowly).</p>

<h3>
<a id="kvcluster" class="anchor" href="#kvcluster" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>kvcluster</h3>

<p>If the key value cluster goes down for some reason, all nodes would have to fail, there are much bigger problems if this happens. If we lose 2 nodes the cluster is still fully operational. <a href="http://kvcluster.imedidata.net:8500/ui/#/infra-us-east-1/services/consul">Cluster Health</a> - <a href="https://github.com/mdsol/kvcluster-playbook/blob/54915e49c34206936aecbd1b7ff21dd82d9f9522/docs/starting%20the%20cluster.md">Help! Need to spin up a new cluster</a>. A vote of confidence is that this has actually happened where we lost one of the nodes, the cluster kept working without anyone noticing for almost an entire week. Once identified we pulled the node, no data was loss and nothing actually happened. It looked as if the node was just unreachable for a period of time as was deemed inactive and removed from the rest of the cluster.</p>

<h3>
<a id="masterbuilder" class="anchor" href="#masterbuilder" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>masterbuilder</h3>

<p>This gets a halfway mention even though it's not really that big of a deal if it goes down. Medistrano will just expire the cache and not be able to pull any new ami's from this list. Some of those ami's are in use but as a workaround one can just set the custom ami value to those ami id's.</p>
        </section>

        <aside id="sidebar">


          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
